{% extends 'base_template.html.twig' %}

{% block content %}

	<main class=" flex-grow-1">
		<div class="row mt-3">
			<div class="col-6 ms-auto">
				<p class="w-75 bg-primary rounded p-1" id="lienVideo">
					lien video :
				</p>
			</div>
			{% if salle.estPublique != 1 %}
				<div class="col-2 ">
					<p class="w-75 mb-0 bg-primary rounded p-1">
						code salle :{{salle.code }}
					</p>
				</div>
			{% endif %}
		</div>

		<div class="row">
			<script src="https://www.youtube.com/iframe_api"></script>

			<div class="col-md-8 col-12 d-flex flex-column">
				<div class=" ms-auto">
					<div id="video" class="video-container"></div>
				</div>

				<div id="description" class="bg-mydark text-white rounded col-md-8 col-12 ms-auto  p-2">
					<p id="titreVideo">
						titre
					</p>

					<p id="descriptionVideo">
						description
					</p>

					<p id="dureeVideo">
						duree
					</p>

				</div>
			</div>
			<script>

				// Fonction de rappel qui est appelée lorsque l'API YouTube est prête
				function onYouTubeIframeAPIReady() { // Crée un objet YT.Player pour intégrer le lecteur YouTube
				player = new YT.Player('video', {
				videoId: 'etdBxpw1984', // Remplacez VIDEO_ID par l'ID de votre vidéo YouTube
				events: {
				'onReady': onPlayerReady
				}
				});
				}

				// Fonction appelée lorsque le lecteur est prêt
				function onPlayerReady(event) { // Vous pouvez maintenant utiliser les fonctions de l'API pour contrôler le lecteur
				event.target.playVideo(); // Joue la vidéo
				document.getElementById("dureeVideo").innerHTML += Math.floor(event.target.getDuration() / 60) + "min " + event.target.getDuration() % 60;
				document.getElementById("titreVideo").innerHTML += event.target.videoTitle;
				document.getElementById("lienVideo").innerHTML += event.target.getVideoUrl();

				}


				window.onbeforeunload = function (event) {};
			</script>

			<div id="chat" class="bg-mydark  col-12 col-md-2 col-lg-3 mx-auto rounded d-flex col flex-column mb-1 " style=" height: 550px;">
				<div data-bs-spy="scroll">
					<div class="bg-white rounded my-3 w-75">
						<p class="mb-0">
							coucou</p>
					</div>
					<div class="bg-white rounded my-3 w-75">
						<p class="mb-0">
							coucou</p>
					</div>
					<div class="bg-white rounded my-3 w-75">
						<p class="mb-0">
							coucou</p>
					</div>
				</div>

				<div class="row bg-white  m-1 rounded mt-auto mb-2">
					<input type="text" class=" w-75 border border-0 rounded col" placeholder="Message"></input>

				<div class="col-1 rounded-circle bg-primary m-1 p-1">
					<p class="bi bi-send mb-0 p-1"></p>

				</div>

			</div>

		</div>

	</div>


</div></main>{% endblock %}
