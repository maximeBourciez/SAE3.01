{% extends "templateAdmin.html.twig" %}

{% block signalement %}
	border-bottom border-2 border-dark
{% endblock %}

{% block pageContent %}

	<main class="  flex-grow-1">
		<div class=" container  my-4  bg-mydark text-white rounded">
			<div class="table-responsive text-white">
				<table id="signalementTable" class="table table-dark table-hover mb-0 text-white">
					<thead>
						<tr >
							<th class="text-white text-center">Contenu du message</th>
							<th class="text-white text-center">Raison</th>
							<th class="text-white text-center">Nombre de signalements</th>
							<th class="text-white text-center">Actions</th>
						</tr>
					</thead>
					<tbody class="text-white">
						{% for signalement in signalements %}
							<tr>
								<td> <a href="index.php?controller=fil&methode=afficherFilParId&id_fil={{signalement.idFil}}#{{signalement.idMessage}}" class="my-auto ">{{signalement.valeur}}</a></td>
                                <td><p class="">{{signalement.raisons}}</p></td>
                                <td><p class="my-auto ">{{signalement.nbSignalement}}</p></td>
                                <td><form action="index.php?controller=dashboard&methode=supprimerMessageSignale" method="post" class="row">
                                    <input type="hidden" name="idMessage" value="{{signalement.idMessage}}"><div class="row">
                                    <input type="submit" class="btn btn btn-tercary col mx-1 " value="Supprimer"> <a class="btn btn-primary col mx-1" data-bs-toggle="modal" data-bs-target="#gereMessage{{signalement.idMessage}}">GÃ©rer</a> </div></form> </td>
                            </tr>

								{% endfor %}

						</tbody>
                        </table>
						</div>
                        <script>
                        $(document).ready(function () {
                        $('#signalementTable').DataTable({
                        responsive: true,
                        language: {
                        url: 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/fr-FR.json'
                        },
                        pageLength: 15,
                        columns: [
                        {
                        width: "40%",
                        },
                        {
                        width: "10%"
                        },
                        {
                        width: "10%"
                        },
                        {
                        width: "40%"
                        }],
                        initComplete: function () {
                            $('#episodesTable_wrapper').addClass('text-white');
                            $('.dataTables_length').addClass('text-white');
                            $('.dataTables_filter').addClass('text-white');
                            $('.dataTables_info').addClass('text-white');
                            $('.dataTables_paginate').addClass('text-white');
                        }
                        })});
                        </script>
					{% for signalement in signalements %}
                    <div class="modal fade " id="gereMessage{{signalement.idMessage}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-dialog-centered">
                            <div class="modal-content bg-mydark" style="border: 1px solid #F2AC0F;">

                                <div class="modal-header border-bottom-0">
                                    <h5 class="modal-title text-white">Entrer le code pour la rejoindre</h5>
                                    <button type="button" class="btn-close btn-close-white " data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body pt-0 ">
                                    <form class="" action="index.php?controller=salle&methode=rejoindreSallePriver" method="POST">
                                        <div class="form-check my-auto p-0">
                                            <label class=" text-start form-check-label mb-0 text-white ">code de la salle</label>
                                            <input type="number" name="code" class="form-control w-75 "  max="9999" min="1" required >
                                        </div>

                                        <input type="submit" class="btn btn-primary ms-auto  mt-4" value="Rejoindre">
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% endfor %}
				</div>

			</main>

		{% endblock %}
